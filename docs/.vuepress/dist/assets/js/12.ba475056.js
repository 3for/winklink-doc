(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{378:function(e,t,n){"use strict";n.r(t);var a=n(24),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"deploy-winklink-node"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#deploy-winklink-node"}},[e._v("#")]),e._v(" Deploy WINkLink Node")]),e._v(" "),n("p",[e._v("This section explains how to join in the WINkLink ecosystem, including deploying oracle contracts and deploying WINkLink node.")]),e._v(" "),n("p",[e._v("Currently, the owner of oracle contract is also the operator of the node on WINkLink. With regard to distribution of proceeds, Oracle node accounts process and submit data, and only owners of the oracle contract are entitled to withdraw the handling fees paid by Oracle contract users.")]),e._v(" "),n("h2",{attrs:{id:"before-you-start"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#before-you-start"}},[e._v("#")]),e._v(" Before you start")]),e._v(" "),n("p",[e._v("Maintainers for WINkLink need to understand how the TRON platform works, and know about smart contract deployment and the process of calling them. You're suggested to read related "),n("a",{attrs:{href:"https://cn.developers.tron.network/",target:"_blank",rel:"noopener noreferrer"}},[e._v("TRON official documents"),n("OutboundLink")],1),e._v(", particularly those on contract deployment on TronIDE.")]),e._v(" "),n("h2",{attrs:{id:"contract-deployment"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#contract-deployment"}},[e._v("#")]),e._v(" Contract Deployment")]),e._v(" "),n("p",[e._v("Employing a decentralized structure, WINkLink features open-source smart contracts and allows any organization or individual to deploy their WINkLink oracle contracts and release these services to the public.")]),e._v(" "),n("p",[e._v("Users may pick their sets from all the open services available on WINkLink to create their own aggregated data contracts and benefit from decentralization.")]),e._v(" "),n("p",[e._v("Contract address for the project is hosted at: "),n("a",{attrs:{href:"https://github.com/wink-link/winklink/tree/master/tvm-contracts/v1.0",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/wink-link/winklink/tree/master/tvm-contracts/v1.0"),n("OutboundLink")],1),e._v(".")]),e._v(" "),n("p",[e._v("To compile it, developers need to use "),n("a",{attrs:{href:"https://github.com/tronprotocol/solidity/releases/tag/0.4.25_Odyssey_v3.2.3",target:"_blank",rel:"noopener noreferrer"}},[e._v("tron-solidity v0.4.25"),n("OutboundLink")],1),e._v(" (or choose the corresponding version from TronIDE).")]),e._v(" "),n("p",[e._v("You may use any of the following tools or libraries for contract deployment and call testing:")]),e._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://github.com/tronprotocol/wallet-cli",target:"_blank",rel:"noopener noreferrer"}},[e._v("Official wallet-cli"),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"https://cn.developers.tron.network/docs/ide%E5%85%A5%E9%97%A8",target:"_blank",rel:"noopener noreferrer"}},[e._v("TronIDE"),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"https://cn.developers.tron.network/docs/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E9%83%A8%E7%BD%B2",target:"_blank",rel:"noopener noreferrer"}},[e._v("TronBox"),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"https://cn.developers.tron.network/reference#tronwebcontractnew",target:"_blank",rel:"noopener noreferrer"}},[e._v("tronweb"),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"https://tronpy.readthedocs.io/en/latest/contract.html#creating-smart-contract",target:"_blank",rel:"noopener noreferrer"}},[e._v("tronpy"),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/andelf/rust-tron/blob/master/docs/contract.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("rust-tron"),n("OutboundLink")],1)])]),e._v(" "),n("h3",{attrs:{id:"winkmid-contract"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#winkmid-contract"}},[e._v("#")]),e._v(" WinkMid Contract")]),e._v(" "),n("p",[e._v("WINkLink uses WIN (TRC20) as the base token for the whole platform.")]),e._v(" "),n("p",[e._v("WINkLink adopts the "),n("code",[e._v("transferAndCall")]),e._v(" feature, i.e. calling one of the callback functions while transferring TRC20 tokens to contracts, a feature similar to "),n("a",{attrs:{href:"https://github.com/ethereum/EIPs/issues/677",target:"_blank",rel:"noopener noreferrer"}},[e._v("ERC677"),n("OutboundLink")],1),e._v(" yet adopting different interface parameters.")]),e._v(" "),n("p",[e._v("Given that we cannot modify contracts or add interfaces for most of the tokens issued, WINkLink provides "),n("code",[e._v("WinkMid")]),e._v(" wrapper contract, which helps wrapping any TRC20 token and provides "),n("code",[e._v("transferAndCall")]),e._v(" interface.")]),e._v(" "),n("p",[e._v("The contract code is available at "),n("a",{attrs:{href:"https://github.com/wink-link/winklink/blob/feature/rename2wink/tvm-contracts/v1.0/WinkMid.sol",target:"_blank",rel:"noopener noreferrer"}},[e._v("WinkMid.sol"),n("OutboundLink")],1),e._v(".")]),e._v(" "),n("p",[e._v("For convenience, Nile TestNet has deployed "),n("code",[e._v("WinkMid")]),e._v(" contract and encapsulated the "),n("code",[e._v("WIN")]),e._v(" token on it. Developers may use this contract address directly without additional deployment. Users may also claim test TRX and WIN tokens from the Faucet address provided by Nile TestNet.")]),e._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[e._v("Nile Testnet")]),e._v(" "),n("ul",[n("li",[e._v("WIN TRC20 Contract Address: "),n("code",[e._v("TLa2f6VPqDgRE67v1736s7bJ8Ray5wYjU7")])]),e._v(" "),n("li",[e._v("WinkMid Contract Address: "),n("code",[e._v("TFbci8j8Ja3hMLPsupsuYcUMsgXniG1TWb")])]),e._v(" "),n("li",[e._v("Testnet Faucet: "),n("a",{attrs:{href:"https://nileex.io/join/getJoinPage",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://nileex.io/join/getJoinPage"),n("OutboundLink")],1)])])]),e._v(" "),n("p",[e._v("When deploying WinkMid contract, developers need to provide the encapsulated TRC20 token address (i.e. WIN token address) for the constructor.")]),e._v(" "),n("p",[e._v("Developers do not need to call "),n("code",[e._v("WinkMid")]),e._v(" contract directly, as it's wink a helper for caller contracts.")]),e._v(" "),n("h3",{attrs:{id:"oracle-contract"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#oracle-contract"}},[e._v("#")]),e._v(" Oracle Contract")]),e._v(" "),n("p",[e._v("Oracle contract is deployed on the TRON public chain with the following features:")]),e._v(" "),n("ul",[n("li",[e._v("Receive data requests from Consumer Contract and trigger Event Log\n"),n("ul",[n("li",[e._v("WIN transfer as fees, will be sent along with the data request")])])]),e._v(" "),n("li",[e._v("Accept data submitted from WINkLink node\n"),n("ul",[n("li",[e._v("WINkLink node monitors Event Log and then learns about the data request")]),e._v(" "),n("li",[e._v("Through job configuration, nodes call the corresponding adaptors of different data requests to obtain external data and trigger Oracle contracts to submit data")]),e._v(" "),n("li",[e._v("Trigger the callback function of the consumer contract")])])]),e._v(" "),n("li",[e._v("Support cancelling data requests")]),e._v(" "),n("li",[e._v("Calculate the WIN fee on data requests and claim rewards")])]),e._v(" "),n("p",[e._v("Contract code is available at "),n("a",{attrs:{href:"https://github.com/wink-link/winklink/blob/master/tvm-contracts/v1.0/TronOracles.sol",target:"_blank",rel:"noopener noreferrer"}},[e._v("TronOracles.sol"),n("OutboundLink")],1),e._v(".")]),e._v(" "),n("p",[e._v("WIN token address and WinkMid contract address are needed in the constructor function when deploying an Oracle contract.")]),e._v(" "),n("p",[e._v("Oracle contract implements the "),n("code",[e._v("Ownable")]),e._v(" interface. The owner of the contract is eligible for managing rewards or destroying the contract.")]),e._v(" "),n("h2",{attrs:{id:"node-deployment"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#node-deployment"}},[e._v("#")]),e._v(" Node Deployment")]),e._v(" "),n("p",[e._v("WINkLink node can be deployed after the contract is deployed.")]),e._v(" "),n("p",[e._v("WINkLink node (project directory "),n("code",[e._v("node")]),e._v(") code is available at: https://github.com/wink-link/winklink/tree/master/node.")]),e._v(" "),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),n("p",[e._v("Current node implementation includes the adapter for accessing token price via exchange APIs. Please run the node in a stable network environment outside Mainland China.")])]),e._v(" "),n("h3",{attrs:{id:"prepare-node-account"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#prepare-node-account"}},[e._v("#")]),e._v(" Prepare Node Account")]),e._v(" "),n("p",[e._v("Each WINkLink node must be linked to a TRON account for calling Oracle contract to submit data.")]),e._v(" "),n("p",[e._v("After generating the account address and the private key, the developer can test TRX token on the Testnet Faucet page.The token is used for paying the handling fees on calling the smart contracts.")]),e._v(" "),n("p",[e._v("Developers can generate account address and private key via one of the following methods:")]),e._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://github.com/tronprotocol/wallet-cli",target:"_blank",rel:"noopener noreferrer"}},[e._v("Official wallet-cli"),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"https://andelf.gitbook.io/tron/tron-by-example/generate-address-offline",target:"_blank",rel:"noopener noreferrer"}},[e._v("Generate Address Offline"),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/ki5fpl/tronj/blob/master/client/src/test/java/com/github/ki5fpl/tronj/client/ClientTest.java#L70",target:"_blank",rel:"noopener noreferrer"}},[e._v("tronj"),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/andelf/tronpy/blob/master/examples/generate_address.py",target:"_blank",rel:"noopener noreferrer"}},[e._v("tronpy"),n("OutboundLink")],1)])]),e._v(" "),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),n("p",[e._v("Your private key might get leaked if it is transmitted via an untrusted network. Please generate the address and the private key offline.")])]),e._v(" "),n("h3",{attrs:{id:"required-environment"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#required-environment"}},[e._v("#")]),e._v(" Required Environment")]),e._v(" "),n("p",[e._v("WINkLink node relies on a running MySQL instance. Developers can use the system package manager or Docker of the target environment to deploy a MySQL instance.")]),e._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),n("p",[e._v("Here we assume that the username and the password for the MySQL instance deployed locally are "),n("code",[e._v("root:root")]),e._v(" respectively. Please use a strong password or other verification methods in the production environment.")])]),e._v(" "),n("p",[e._v("WINkLink node is written in Java language and requires JRE/JDK environment. It is recommended to use Oracle JDK8.")]),e._v(" "),n("p",[e._v("WINkLink node requires a nodejs environment. You need to install Nodejs(npm) >= 10.0.")]),e._v(" "),n("h3",{attrs:{id:"access-executable-program-for-the-node"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#access-executable-program-for-the-node"}},[e._v("#")]),e._v(" Access Executable Program for the Node")]),e._v(" "),n("p",[e._v("Developers can download from "),n("a",{attrs:{href:"https://github.com/wink-link/winklink/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("Github Release"),n("OutboundLink")],1),e._v(" page the latest version of WINkLink node executable "),n("code",[e._v("node-v1.0.jar")]),e._v("。")]),e._v(" "),n("p",[e._v("Or you can compile following the steps below:")]),e._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# jdk8 and nodejs(npm) >= 10.0 are needed")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" clone git@github.com:wink-link/winklink.git\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" winklink/\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# compile")]),e._v("\n./gradlew build -x "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("test")]),e._v("\n")])])]),n("p",[e._v("After compilation, "),n("code",[e._v("node-v1.0.jar")]),e._v(" will be stored in "),n("code",[e._v("node/build/libs/")]),e._v(" under the project source code directory.")]),e._v(" "),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),n("p",[e._v("The compilation process here omits the test ("),n("code",[e._v("-x test")]),e._v("), because the test instance includes the API test instance for token price on exchanges, which will require a stable network environment outside Mainland China.")])]),e._v(" "),n("h3",{attrs:{id:"node-configuration"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#node-configuration"}},[e._v("#")]),e._v(" Node Configuration")]),e._v(" "),n("p",[e._v("WINkLink node is configured using springboot.\nAll configuration files are under the subdirectory "),n("code",[e._v("node/src/main/resource")]),e._v(".\nWith "),n("code",[e._v("application.yml")]),e._v(" you can specify a db profile to be used.")]),e._v(" "),n("p",[e._v("WINkLink 节点使用 springboot 方式配置。所有配置文件位于项目子目录 "),n("code",[e._v("node/src/main/resource")]),e._v(".\n"),n("code",[e._v("application.yml")]),e._v(" 可以指定使用的具体 profile.")]),e._v(" "),n("div",{staticClass:"language-yml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-yml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# application.yml")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("server")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("port")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[e._v("8080")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("spring")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# dev|pro")]),e._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("profiles")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("active")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" dev "),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Specify the profile file here, namely `application-dev.yml`")]),e._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("jackson")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("time-zone")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" GMT+8\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("date-format")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" yyyy"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("MM"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("dd HH"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("mm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("ss\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("servlet")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("multipart")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n            "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("maxRequestSize")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[e._v("104857600")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("#100MB")]),e._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# ... (omitted)")]),e._v("\n")])])]),n("p",[e._v("In "),n("code",[e._v("application-[ACTIVE_PROFILE_NAME].yml")]),e._v(" you can specify a MySQL database connection configuration.\nBy default "),n("code",[e._v("dev")]),e._v(" uses local instance. The username and the password are "),n("code",[e._v("root:root")]),e._v(".")]),e._v(" "),n("p",[e._v("After the node configuration file is confirmed, it is required to create a "),n("code",[e._v("key.store")]),e._v(" file and write the private key of the node account:")]),e._v(" "),n("div",{staticClass:"language-text extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("privatekey=*****(32 bye hex-decoded private key)\n")])])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),n("p",[e._v("It is for important safety concern that you use files to provide private information instead of command line. In the production environment, set the permission of the private file "),n("code",[e._v("key.store")]),e._v(" as 600, meaning that only the owner can read or write the data.")])]),e._v(" "),n("h3",{attrs:{id:"start-a-node"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#start-a-node"}},[e._v("#")]),e._v(" Start a Node")]),e._v(" "),n("p",[e._v("All configuration files need to be copied to the directory that your node is running in,\nuse the command "),n("code",[e._v("cp node/src/main/resource/*.yml ./")]),e._v(".")]),e._v(" "),n("p",[e._v("Start your WINkLink node using the following command:")]),e._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[e._v("java -jar node/build/libs/node-v1.0.jar -k key.store\n")])])]),n("p",[e._v("Configuration items can also be specified using a command line. For example:")]),e._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[e._v("java -jar node/build/libs/node-v1.0.jar --server.port"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[e._v("8081")]),e._v(" --spring.profiles.active"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("dev --key key.store\n")])])]),n("p",[e._v("Determine whether your WINkLink node is running properly using the following command:")]),e._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[e._v("tail")]),e._v(" -f logs/tron.log\n")])])]),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),n("p",[e._v("Your node account must have enough TRX tokens for contract calls.\nYou can apply testnet tokens at Testnet Faucet.")])]),e._v(" "),n("h3",{attrs:{id:"add-a-job-to-your-node"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#add-a-job-to-your-node"}},[e._v("#")]),e._v(" Add a Job to Your Node")]),e._v(" "),n("p",[e._v("The job of your node represents the data service that your node supports, and each job has a unique 32-byte ID. For end users, "),n("code",[e._v("(Oracle address, job ID)")]),e._v(" uniquely identifies the data service provided by a WINkLink node. Each WINkLink node can provide multiple data services.")]),e._v(" "),n("p",[e._v("When your WINkLink node is running properly, you can add a job to your node via HTTP API:")]),e._v(" "),n("p",[e._v("Example: (change the address parameter below to the Oracle contract address deployed in the steps above)")]),e._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" --location --request POST "),n("span",{pre:!0,attrs:{class:"token string"}},[e._v("'http://localhost:8080/job/specs'")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  --header "),n("span",{pre:!0,attrs:{class:"token string"}},[e._v("'Content-Type: application/json'")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n    --data-raw "),n("span",{pre:!0,attrs:{class:"token string"}},[e._v('\'{\n    "initiators": [\n        {\n        "type": "runlog",\n        "params": {\n            "address": "TR9jYcLWAcQfbKcP5oau1ccSbeW7mdnqg8"\n        }\n        }\n    ],\n    "tasks": [\n        {\n        "type": "httpget",\n        "params": {\n            "get": "https://www.okex.com/api/spot/v3/instruments/TRX-USDT/ticker",\n            "path": "last"\n        }\n        },\n        {\n        "type": "multiply",\n        "params": {\n            "times": 1000000\n        }\n        },\n        {\n        "type": "trontx"\n        }\n    ]\n    }\'')]),e._v("\n")])])]),n("h3",{attrs:{id:"query-jobs"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#query-jobs"}},[e._v("#")]),e._v(" Query Jobs")]),e._v(" "),n("p",[e._v("Request example:")]),e._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" --location --request GET "),n("span",{pre:!0,attrs:{class:"token string"}},[e._v("'http://localhost:8080/job/specs'")]),e._v("\n")])])]),n("h2",{attrs:{id:"authorize-a-node-account"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#authorize-a-node-account"}},[e._v("#")]),e._v(" Authorize a Node Account")]),e._v(" "),n("p",[e._v("The node account requires authorization to submit data to the Oracle contract, otherwise an error "),n("code",[e._v('"Not an authorized node to fulfill requests"')]),e._v(" will be reported.")]),e._v(" "),n("p",[e._v("The owner of the Oracle contract is required to call the contract below and add the node account to the whitelist:")]),e._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// setFulfillmentPermission(address,bool) [7fcd56db]")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("setFulfillmentPermission")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[e._v("address _node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" bool _allowed")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])])]),n("p",[n("code",[e._v("_node")]),e._v(" refers to the node account address. When "),n("code",[e._v("_allowed")]),e._v(" is "),n("code",[e._v("true")]),e._v(",\nthe account is authorized; when it is "),n("code",[e._v("false")]),e._v(", the authorization is revoked.")]),e._v(" "),n("p",[e._v("Call example: "),n("code",[e._v("setFulfillmentPermission(TGQVLckg1gDZS5wUwPTrPgRG4U8MKC4jcP, true)")]),e._v(".")]),e._v(" "),n("p",[e._v("Contract calls can be made via any of the following tools or libraries:")]),e._v(" "),n("ul",[n("li",[e._v("TronScan: "),n("a",{attrs:{href:"https://tronscan.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Mainnet"),n("OutboundLink")],1),e._v(", "),n("a",{attrs:{href:"https://nile.tronscan.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Nile Testnet"),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/tronprotocol/wallet-cli",target:"_blank",rel:"noopener noreferrer"}},[e._v("Official wallet-cli"),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"https://cn.developers.tron.network/docs/ide%E5%85%A5%E9%97%A8",target:"_blank",rel:"noopener noreferrer"}},[e._v("TronIDE"),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"https://cn.developers.tron.network/docs/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E9%83%A8%E7%BD%B2",target:"_blank",rel:"noopener noreferrer"}},[e._v("TronBox"),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"https://cn.developers.tron.network/reference#tronwebcontractat",target:"_blank",rel:"noopener noreferrer"}},[e._v("tronweb"),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"https://tronpy.readthedocs.io/en/latest/contract.html#creating-smart-contract",target:"_blank",rel:"noopener noreferrer"}},[e._v("tronpy"),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/andelf/rust-tron/blob/master/docs/contract.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("rust-tron"),n("OutboundLink")],1)])]),e._v(" "),n("h2",{attrs:{id:"apply-to-be-an-officially-certified-winklink-node"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#apply-to-be-an-officially-certified-winklink-node"}},[e._v("#")]),e._v(" Apply to be an officially certified WINkLink node")]),e._v(" "),n("p",[e._v("Your node can provide services to the public after the steps above are performed.")]),e._v(" "),n("p",[e._v("You can share your node's Oracle contract address and job ID of supported data services to the community. You can also apply to be a node officially certified by WINkLink and be listed on the WINkLink website.")]),e._v(" "),n("p",[n("a",{attrs:{href:"https://docs.google.com/forms/d/e/1FAIpQLSdufboAPr-ApgF3D7GHlUFUIlctsosualKI0IiRreMlwX-Eaw/viewform",target:"_blank",rel:"noopener noreferrer"}},[e._v("Application form"),n("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=r.exports}}]);